<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tidying methods for rowwise_dfs from dplyr, for tidying each row and
recombining the results — rowwise_df_tidiers • broom</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">broom</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/broom.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/adding-tidiers.html">Adding new tidiers</a>
    </li>
    <li>
      <a href="../articles/available-methods.html">Available methods</a>
    </li>
    <li>
      <a href="../articles/bootstrapping.html">Bootstrapping</a>
    </li>
    <li>
      <a href="../articles/broom_and_dplyr.html">Broom and dplyr</a>
    </li>
    <li>
      <a href="../articles/kmeans.html">K-means</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/broom">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tidying methods for rowwise_dfs from dplyr, for tidying each row and
recombining the results</h1>
    <small class="dont-index">Source: <a href='http://github.com/tidyverse/broom/blob/master/R/rowwise_df_tidiers.R'><code>R/rowwise_df_tidiers.R</code></a></small>
    <div class="hidden name"><code>rowwise_df_tidiers.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These <code>tidy</code>, <code>augment</code> and <code>glance</code> methods are for
performing tidying on each row of a rowwise data frame created by dplyr's
<code>group_by</code> and <code>do</code> operations. They first group a rowwise data
frame based on all columns that are not lists, then perform the tidying
operation on the specified column. This greatly shortens a common idiom
of extracting tidy/augment/glance outputs after a do statement.</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for rowwise_df</span>
<span class='fu'><a href='tidy.html'>tidy</a></span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rowwise_df</span>
<span class='fu'>tidy_</span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rowwise_df</span>
<span class='fu'><a href='augment.html'>augment</a></span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rowwise_df</span>
<span class='fu'>augment_</span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rowwise_df</span>
<span class='fu'><a href='glance.html'>glance</a></span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rowwise_df</span>
<span class='fu'>glance_</span>(<span class='no'>x</span>, <span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tbl_df</span>
<span class='fu'><a href='tidy.html'>tidy</a></span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tbl_df</span>
<span class='fu'><a href='augment.html'>augment</a></span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tbl_df</span>
<span class='fu'><a href='glance.html'>glance</a></span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a rowwise_df</p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>the column name of the column containing the models to
be tidied. For tidy, augment, and glance it should be the bare name; for
_ methods it should be quoted.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments to pass on to the respective tidying method</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>"grouped_df"</code>, where the non-list columns of the
original are used as grouping columns alongside the tidied outputs.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that this functionality is not currently implemented for
data.tables, since the result of the do operation is difficult to
distinguish from a regular data.table.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>dplyr</span>)
<span class='no'>regressions</span> <span class='kw'>&lt;-</span> <span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>cyl</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/do.html'>do</a></span>(<span class='kw'>mod</span> <span class='kw'>=</span> <span class='fu'>lm</span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='no'>.</span>))

<span class='no'>regressions</span></div><div class='output co'>#&gt; Source: local data frame [3 x 2]
#&gt; Groups: &lt;by row&gt;
#&gt; 
#&gt; # A tibble: 3 x 2
#&gt;     cyl mod     
#&gt; * &lt;dbl&gt; &lt;list&gt;  
#&gt; 1     4 &lt;S3: lm&gt;
#&gt; 2     6 &lt;S3: lm&gt;
#&gt; 3     8 &lt;S3: lm&gt;</div><div class='input'>
<span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='tidy.html'>tidy</a></span>(<span class='no'>mod</span>)</div><div class='output co'>#&gt; # A tibble: 6 x 6
#&gt; # Groups:   cyl [3]
#&gt;     cyl term        estimate std.error statistic    p.value
#&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
#&gt; 1     4 (Intercept)    39.6      4.35       9.10 0.00000777
#&gt; 2     4 wt             -5.65     1.85      -3.05 0.0137    
#&gt; 3     6 (Intercept)    28.4      4.18       6.79 0.00105   
#&gt; 4     6 wt             -2.78     1.33      -2.08 0.0918    
#&gt; 5     8 (Intercept)    23.9      3.01       7.94 0.00000405
#&gt; 6     8 wt             -2.19     0.739     -2.97 0.0118    </div><div class='input'><span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='augment.html'>augment</a></span>(<span class='no'>mod</span>)</div><div class='output co'>#&gt; # A tibble: 32 x 10
#&gt; # Groups:   cyl [3]
#&gt;      cyl   mpg    wt .fitted .se.fit  .resid   .hat .sigma   .cooksd .std.resid
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
#&gt;  1     4  22.8  2.32    26.5    1.01 -3.67   0.0913   3.26 0.0670       -1.16  
#&gt;  2     4  24.4  3.19    21.6    1.95  2.84   0.343    3.31 0.289         1.05  
#&gt;  3     4  22.8  3.15    21.8    1.89  1.02   0.321    3.51 0.0325        0.370 
#&gt;  4     4  32.4  2.2     27.1    1.02  5.25   0.0932   2.95 0.141         1.66  
#&gt;  5     4  30.4  1.62    30.5    1.60 -0.0513 0.230    3.53 0.0000457    -0.0175
#&gt;  6     4  33.9  1.84    29.2    1.31  4.69   0.154    3.04 0.212         1.53  
#&gt;  7     4  21.5  2.46    25.7    1.06 -4.15   0.101    3.18 0.0968       -1.31  
#&gt;  8     4  27.3  1.94    28.6    1.20 -1.34   0.129    3.50 0.0138       -0.432 
#&gt;  9     4  26    2.14    27.5    1.04 -1.49   0.0975   3.49 0.0119       -0.470 
#&gt; 10     4  30.4  1.51    31.0    1.75 -0.627  0.275    3.52 0.00927      -0.221 
#&gt; # ... with 22 more rows</div><div class='input'><span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='glance.html'>glance</a></span>(<span class='no'>mod</span>)</div><div class='output co'>#&gt; # A tibble: 3 x 12
#&gt; # Groups:   cyl [3]
#&gt;     cyl r.squared adj.r.squared sigma statistic p.value    df logLik   AIC
#&gt;   &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1     4     0.509         0.454  3.33      9.32  0.0137     2 -27.7   61.5
#&gt; 2     6     0.465         0.357  1.17      4.34  0.0918     2  -9.83  25.7
#&gt; 3     8     0.423         0.375  2.02      8.80  0.0118     2 -28.7   63.3
#&gt; # ... with 3 more variables: BIC &lt;dbl&gt;, deviance &lt;dbl&gt;, df.residual &lt;int&gt;</div><div class='input'>
<span class='co'># we can provide additional arguments to the tidying function</span>
<span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='tidy.html'>tidy</a></span>(<span class='no'>mod</span>, <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; # A tibble: 6 x 8
#&gt; # Groups:   cyl [3]
#&gt;     cyl term        estimate std.error statistic    p.value conf.low conf.high
#&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
#&gt; 1     4 (Intercept)    39.6      4.35       9.10 0.00000777    29.7     49.4  
#&gt; 2     4 wt             -5.65     1.85      -3.05 0.0137        -9.83    -1.46 
#&gt; 3     6 (Intercept)    28.4      4.18       6.79 0.00105       17.7     39.2  
#&gt; 4     6 wt             -2.78     1.33      -2.08 0.0918        -6.21     0.651
#&gt; 5     8 (Intercept)    23.9      3.01       7.94 0.00000405    17.3     30.4  
#&gt; 6     8 wt             -2.19     0.739     -2.97 0.0118        -3.80    -0.582</div><div class='input'>
<span class='co'># we can also include the original dataset as a "data" argument</span>
<span class='co'># to augment:</span>
<span class='no'>regressions</span> <span class='kw'>&lt;-</span> <span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>cyl</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='http://dplyr.tidyverse.org/reference/do.html'>do</a></span>(<span class='kw'>mod</span> <span class='kw'>=</span> <span class='fu'>lm</span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='no'>.</span>), <span class='kw'>original</span> <span class='kw'>=</span> (<span class='no'>.</span>))

<span class='co'># this allows all the original columns to be included:</span>
<span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='augment.html'>augment</a></span>(<span class='no'>mod</span>)  <span class='co'># doesn't include all original</span></div><div class='output co'>#&gt; # A tibble: 32 x 10
#&gt; # Groups:   cyl [3]
#&gt;      cyl   mpg    wt .fitted .se.fit  .resid   .hat .sigma   .cooksd .std.resid
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
#&gt;  1     4  22.8  2.32    26.5    1.01 -3.67   0.0913   3.26 0.0670       -1.16  
#&gt;  2     4  24.4  3.19    21.6    1.95  2.84   0.343    3.31 0.289         1.05  
#&gt;  3     4  22.8  3.15    21.8    1.89  1.02   0.321    3.51 0.0325        0.370 
#&gt;  4     4  32.4  2.2     27.1    1.02  5.25   0.0932   2.95 0.141         1.66  
#&gt;  5     4  30.4  1.62    30.5    1.60 -0.0513 0.230    3.53 0.0000457    -0.0175
#&gt;  6     4  33.9  1.84    29.2    1.31  4.69   0.154    3.04 0.212         1.53  
#&gt;  7     4  21.5  2.46    25.7    1.06 -4.15   0.101    3.18 0.0968       -1.31  
#&gt;  8     4  27.3  1.94    28.6    1.20 -1.34   0.129    3.50 0.0138       -0.432 
#&gt;  9     4  26    2.14    27.5    1.04 -1.49   0.0975   3.49 0.0119       -0.470 
#&gt; 10     4  30.4  1.51    31.0    1.75 -0.627  0.275    3.52 0.00927      -0.221 
#&gt; # ... with 22 more rows</div><div class='input'><span class='no'>regressions</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='augment.html'>augment</a></span>(<span class='no'>mod</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>original</span>)  <span class='co'># includes all original</span></div><div class='output co'>#&gt; # A tibble: 32 x 18
#&gt; # Groups:   cyl [3]
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb .fitted
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
#&gt;  1  22.8     4 108      93  3.85  2.32  18.6     1     1     4     1    26.5
#&gt;  2  24.4     4 147.     62  3.69  3.19  20       1     0     4     2    21.6
#&gt;  3  22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2    21.8
#&gt;  4  32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1    27.1
#&gt;  5  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2    30.5
#&gt;  6  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1    29.2
#&gt;  7  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1    25.7
#&gt;  8  27.3     4  79      66  4.08  1.94  18.9     1     1     4     1    28.6
#&gt;  9  26       4 120.     91  4.43  2.14  16.7     0     1     5     2    27.5
#&gt; 10  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2    31.0
#&gt; # ... with 22 more rows, and 6 more variables: .se.fit &lt;dbl&gt;, .resid &lt;dbl&gt;,
#&gt; #   .hat &lt;dbl&gt;, .sigma &lt;dbl&gt;, .cooksd &lt;dbl&gt;, .std.resid &lt;dbl&gt;</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>broom is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by David Robinson.</p>
  <p>Site built by <a href="http://pkgdown.r-lib.org">pkgdown</a>.</p>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
      </footer>
   </div>

  

  </body>
</html>

